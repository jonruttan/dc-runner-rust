type: runtime.service_plugin_lock
version: 1
required:
  - plugins
properties:
  plugins:
    type: array
    minItems: 1
    items:
      type: object
      required: [plugin_id, version, digest, signature, source, services]
      properties:
        plugin_id:
          type: string
          minLength: 1
        version:
          type: string
          minLength: 1
        digest:
          type: string
          minLength: 1
        signature:
          type: string
          minLength: 1
        source:
          type: object
          required: [ref]
          properties:
            ref:
              type: string
              minLength: 1
            kind:
              type: string
        services:
          type: array
          minItems: 1
          items:
            type: object
            required: [type, profile]
            properties:
              type:
                type: string
                minLength: 1
              profile:
                type: string
                minLength: 1
