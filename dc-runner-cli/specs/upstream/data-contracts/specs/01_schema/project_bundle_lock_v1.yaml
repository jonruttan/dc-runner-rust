version: 1
title: project_bundle_lock_v1
type: object
required:
  - version
  - project_id
  - bundles
  - updated_at
properties:
  version:
    type: integer
    const: 1
  project_id:
    type: string
    minLength: 1
  bundles:
    type: array
    minItems: 1
    items:
      type: object
      required:
        - bundle_id
        - bundle_version
        - source
        - install_dir
      properties:
        bundle_id:
          type: string
          minLength: 1
        bundle_version:
          type: string
          minLength: 1
        role:
          type: string
          enum:
            - primary
            - additional
        source:
          type: object
          required:
            - repo
            - release_tag
            - asset_url
            - sha256
          properties:
            repo:
              type: string
              minLength: 1
            release_tag:
              type: string
              minLength: 1
            asset_url:
              type: string
              minLength: 1
            sha256:
              type: string
              minLength: 1
        install_dir:
          type: string
          minLength: 1
  updated_at:
    type: string
    minLength: 1
