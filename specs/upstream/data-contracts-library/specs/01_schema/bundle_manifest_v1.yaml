version: 1
title: bundle_manifest_v1
type: object
required:
  - bundle_id
  - bundle_version
  - summary
  - maintainers
  - dependency_mode
  - depends_on
  - domains
properties:
  bundle_id:
    type: string
    minLength: 1
  bundle_version:
    type: string
    minLength: 1
  summary:
    type: string
    minLength: 1
  maintainers:
    type: array
    minItems: 1
    items:
      type: object
      required:
        - name
      properties:
        name:
          type: string
          minLength: 1
        contact:
          type: string
          minLength: 1
  dependency_mode:
    type: string
    enum:
      - required
      - optional
  depends_on:
    type: array
    items:
      type: string
      minLength: 1
  domains:
    type: array
    minItems: 1
    items:
      type: object
      required:
        - id
        - modules
      properties:
        id:
          type: string
          minLength: 1
        modules:
          type: array
          minItems: 1
          items:
            type: object
            required:
              - id
              - include_paths
            properties:
              id:
                type: string
                minLength: 1
              include_paths:
                type: array
                minItems: 1
                items:
                  type: string
                  minLength: 1
              exclude_paths:
                type: array
                items:
                  type: string
                  minLength: 1
              artifacts:
                type: array
                items:
                  type: object
                  required:
                    - path
                    - kind
                  properties:
                    path:
                      type: string
                      minLength: 1
                    kind:
                      type: string
                      enum:
                        - file
                        - dir
                        - report
                        - manifest
                        - lock
              contracts:
                type: array
                items:
                  type: string
                  minLength: 1
