type: runtime.runner_command_entrypoints
version: 1
required:
  - version
  - commands
properties:
  version:
    type: integer
    const: 1
  commands:
    type: array
    minItems: 1
    items:
      type: object
      required:
        - id
        - cli
        - profile
        - visibility
        - source
        - artifacts
        - exit_codes
      properties:
        id:
          type: string
          minLength: 1
        cli:
          type: string
          pattern: '^dc-runner(\s|$)'
        profile:
          type: string
          minLength: 1
        visibility:
          type: string
          enum:
            - top_level
            - hidden
        group:
          type: string
          minLength: 1
        source:
          type: string
          enum:
            - core
            - bundler
        artifacts:
          type: array
          minItems: 1
          items:
            type: string
            minLength: 1
        exit_codes:
          type: object
          required:
            - allowed
          properties:
            allowed:
              type: array
              minItems: 1
              items:
                type: integer
