version: 1
required_tasks:
  - task_id: build
    norm: MUST
  - task_id: test
    norm: MUST
  - task_id: verify
    norm: MUST
  - task_id: spec-sync
    norm: MUST
  - task_id: spec-sync-check
    norm: MUST
  - task_id: compat-check
    norm: MUST
optional_tasks:
  - task_id: smoke
    norm: MAY
  - task_id: package-check
    norm: MAY
  - task_id: release-verify
    norm: MAY
  - task_id: docs-check
    norm: MAY
  - task_id: lint
    norm: MAY
  - task_id: typecheck
    norm: MAY
task_map:
  build:
    supported: true
    invocations:
      - cargo xtask build
    tool_kind: xtask
  test:
    supported: true
    invocations:
      - cargo xtask test
    tool_kind: xtask
  verify:
    supported: true
    invocations:
      - cargo xtask verify all
    tool_kind: xtask
  spec-sync:
    supported: true
    invocations:
      - cargo xtask spec sync --tag <upstream-tag> --source <path-or-url>
    tool_kind: xtask
  spec-sync-check:
    supported: true
    invocations:
      - cargo xtask spec check
    tool_kind: xtask
  compat-check:
    supported: true
    invocations:
      - cargo xtask compat check
    tool_kind: xtask
  smoke:
    supported: true
    invocations:
      - cargo xtask smoke
    tool_kind: xtask
  package-check:
    supported: true
    invocations:
      - cargo package -p dc_runner_cli --allow-dirty
    tool_kind: custom
  release-verify:
    supported: true
    invocations:
      - cargo xtask verify all
      - cargo package -p dc_runner_cli --allow-dirty
    tool_kind: custom
  docs-check:
    supported: false
    invocations:
      - "not-supported"
    tool_kind: custom
    notes: No standalone docs-check command is defined in this runner repo.
  lint:
    supported: false
    invocations:
      - "not-supported"
    tool_kind: custom
    notes: Lint behavior is currently covered via test/verify lanes.
  typecheck:
    supported: false
    invocations:
      - "not-supported"
    tool_kind: custom
    notes: Rust compile checks are covered via build/test/verify lanes.
